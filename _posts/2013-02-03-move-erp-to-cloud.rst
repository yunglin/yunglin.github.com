---
layout: post
title: "中小企業ERP系統上雲端？"
date: 2013-02-03 17:11
comments: true
categories: 
---

::

 ※ 引述《NightWind (gin and tonic)》之銘言：
 : 我們是一家中小企業
 : 大約三年前才把古早的DOS系統
 : 換裝成鼎新的ERP
 : 現在當初買的伺服器主機保固也要到了
 : 老闆突發奇想把ERP系統裝在中華HiCloud那樣的雲端虛擬主機上
 : 節省定期維護主機與擔心主機突然掛掉的費用
 : 請問真的有人會這樣做的嗎？
 : 又如果有的話，台北地區有沒有規劃的廠商？


HiCloud 沒用過，所以用 AWS_ 的例子來解釋要這麼做會碰上那些例子。

第一個問題是 VM 的可靠度是比你自己買伺服器等級的機器還來的低的， AWS EC2 的
合約是說 99.95% Available ，但是這不包括你 VM 被 AWS會有隨機關掉的機會。當
被關掉後，你是要自己手動或自動重啟才有 99.95%

第二個問題是，台灣多數的 ERP是2-tier的架構而非 3 tier 的，若是用 2-tier 的
軟體，使用者端要從本機連到 AWS去，一個來回的時間從 <10ms跳到 100ms 以上，如
果程式寫的不好，本來一個流程的轉換要跑兩個 SQL command，原來是 (10ms*2 + SQL execution time) * 2，
還有機會是小於 100ms看起來很即時就可以反應，一搬到雲端，時間就跳昇到 100ms * 4，變的超級鈍。

再來，放到 AWS 去，還要考慮台美專線速度的問題，過去幾年來，台灣對外的海纜，幾乎
每兩年都會斷線超過一天。所以放在雲端你的架構能提供的，就只剩不到 99.5%

在 EC2 上，如果要用 EBS讓 VM 當機後資料還在的話， EBS的效能是有口皆呸的
，但是如果不用 EBS，那 VM 一死，上面的資料又全消失了，變成你自己要做 Data Replication

最後，如果要用台灣的雲端，不用要 HiCloud，比較建議的環境會是開發資源及支援較多
的 `MS Azure`_ 或是使用 joynet_ 技術的 MiCloud_ 會比較妥當。

縱觀來講，搬到雲端有其它新的挑戰要處理，第一個看軟體要先 3tier 化，再來是要
做DB online replication 保護資料，最後，是公司對外的專線要能跟的上資料量。

如果前述問題都能解決的話，貴公司得到的會是

1. 更短的錯誤迴復時間：伺服器一死，跟廠商搬機器來迴復也要一個工作天以上，用雲端可以降到一兩小時

2. 更敏捷的硬體效能：如果硬體效能不夠，使用雲端系統，是直接選更高等級的VM重開，當下就可以昇級。
   不用等採買硬體所需的數星期到數個月的時間，也不必擔心折舊週期還沒到就又要昇級。


在是否該選用雲端方案的話，就看你們目前的 ERP是否是 3-tier 的，另外就是找顧問來來編
寫相關的工具及作業流程。

.. _AWS: http://aws.amazon.com
.. _MS Azure: http://www.microsoft.com/taiwan/windowsazure/
.. _joynet: http://joyent.com/
.. _MiCloud: http://micloud.tw/
