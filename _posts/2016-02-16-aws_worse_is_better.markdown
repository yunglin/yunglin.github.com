---
layout: post
title: "AWS 意料之外的好處"
date: 2016-02-16T00:38:04-08:00
---

[蘋果可能為減少營運成本棄 Amazon 改用自家資料中心](http://technews.tw/2016/02/02/apple-may-leave-aws-use-apple-data-center/)



> Huberty 估計，蘋果將建造佔地約 250 萬平方呎的資料中心，這個資料中心將專為 iCloud、iTunes 和支援服務所用。遷離 Amazon 的 AWS 伺服器，將能為蘋果省下近數十億的營運成本，Huberty 估計，蘋果 2015 年在伺服器的成本上就花費了將近十億美金，摩根史坦利也預估，2016 和 2017 年，蘋果將支付 10 億 500 萬和 10 億 1800 萬美金給 Amazon 做為伺服器費用。


我認為遲早會搬回去的，AWS 雲端的好處太多了，不可能不搬回去的。

不講別的，我覺得 AWS 在節省成本上面，最大的優點是 AWS 隨時有可能通知你，下個月因為主機維修，要把你的虛擬機器重開遷移到另一台主機上。

我不開玩笑，這真的是 AWS 最偉大的 IT 管理實務的發明，可以幫公司省下超多費用，還可以逼迫程式設計師寫正確的程式。

講一個老故事，我在某公司上班時，剛報到時，我的專案要用 Maven ，就問了另一個團隊的技術主管，公司的 Maven Repository IP 是多少，然候就加到了我的專案裡面，自此這個 maven repo 就被許多專案延用下去。

時間快轉兩年，兩年後，另一個單位來信問我 maven repo 掛了，大家找不到主機在那？！他是從我這抄來 IP 的，問我知不知道主機在那？

我說是 Dave 跟我說的，但是他離職兩年了，我幫你問問在同一個團隊的成員有沒有人知道這一台主機在那裡。

Dave 的隊友說不知道。最後只能從 IP 位址去 switch 上面查線了，聽說最後是在某間辦公室的辦公桌底下，找到了這台全公司的共用的非正式 Maven Repository

這故事扯不扯大家自己看吧，不過許多大公司裡充斥著這樣的專案主機，電源就插著，沒有人知道他在那裡做什麼，他的主人早已離職多年，就靜靜的放在那，沒有人敢去把電源關掉。

這個，就是大公司的 IT 實務。

所以我說 AWS 大約每六個月就會把你的虛擬機器關掉，是 IT 實務上的偉大發明，用了 AWS 再也不會有孤兒系統默默的存在，幾個月之內一定會被重開機一次，會逼迫你去搞清處這台機器的主人是誰，在運行什麼東西，要怎麼備份跟重開；你不想去處理這些都不行。

像是 Netflix CTO 寫的 Chaos Monkey 更是把這個理念推到了極致，在 Production 環境內，還會任意的把你的機器關掉，逼迫你一定要把程式寫成容錯、分散式的，不管你在設計階段時怎麼唬爛， CTO 的猴子會在生產力的環境內無時無刻的幫你製造危機，測試你的系統是否是真的容錯。

**劣即是夯** 蘋果如果是把主機從雲端，搬回到傳統的 IT 實務上的話，最後，成本一定是會比使用雲端共享的方式還要高的。

